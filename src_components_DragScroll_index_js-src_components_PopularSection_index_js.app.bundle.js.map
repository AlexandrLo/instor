{"version":3,"file":"src_components_DragScroll_index_js-src_components_PopularSection_index_js.app.bundle.js","mappings":"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","sources":["webpack://instor/./src/components/DragScroll/index.js","webpack://instor/./src/components/DragScroll/utils.js","webpack://instor/./src/components/PopularSection/index.js","webpack://instor/./src/components/SectionWrapper/index.js"],"sourcesContent":["import React, { useCallback, useRef, useState } from \"react\";\n\nimport { Box } from \"@chakra-ui/react\";\nimport PropTypes from \"prop-types\";\nimport { useDrag } from \"@use-gesture/react\";\nimport { useResizeDetector } from \"react-resize-detector\";\nimport { animated, useSpring } from \"@react-spring/web\";\n\nimport { clamp, isInRange } from \"./utils\";\n\nconst springDragConfig = {\n  mass: 1,\n  tension: 4000,\n  friction: 100,\n};\nconst springFreeConfig = {\n  mass: 5,\n  tension: 400,\n  friction: 100,\n};\nconst springRubberBandConfig = {\n  mass: 5,\n  tension: 400,\n  friction: 60,\n};\n\nfunction DragScroll({ children, axis = \"x\" }) {\n  const [bounds, setBounds] = useState({\n    start: 0,\n    end: 0,\n  });\n\n  const sliderRef = useRef(null);\n\n  const onResize = useCallback(() => {\n    // reset scroll position\n    api.start({\n      to: { [axis]: 0 },\n      config: springRubberBandConfig,\n    });\n    // Get element sizes\n    const containerSize =\n      axis === \"x\"\n        ? sliderRef.current.clientWidth\n        : sliderRef.current.clientHeight;\n    const sliderSize =\n      axis === \"x\"\n        ? sliderRef.current.scrollWidth\n        : sliderRef.current.scrollHeight;\n    // Set scroll bounds for new size\n    setBounds({\n      start: containerSize - sliderSize,\n      end: 0,\n    });\n  }, []);\n\n  useResizeDetector({\n    onResize,\n    targetRef: sliderRef,\n    refreshMode: \"debounce\",\n    refreshRate: 100,\n  });\n\n  const bind = useDrag(\n    ({ down, direction: [dx, dy], offset: [ox, oy], velocity: [vx, vy] }) => {\n      const d = axis === \"x\" ? dx : dy;\n      const o = axis === \"x\" ? ox : oy;\n      const v = axis === \"x\" ? vx : vy;\n      const releaseOffset = o + v * d * 300;\n      let config = springDragConfig;\n      if (!isInRange(releaseOffset, bounds.start, bounds.end) && !down) {\n        config = springRubberBandConfig;\n      }\n      if (isInRange(releaseOffset, bounds.start, bounds.end) && !down) {\n        config = springFreeConfig;\n      }\n      api.start({\n        to: {\n          [axis]: down ? o : clamp(releaseOffset, bounds.start, bounds.end),\n        },\n        config,\n      });\n    },\n    {\n      preventDefault: true,\n      filterTaps: true,\n      from: () => [\n        axis === \"x\" ? coord.get() : 0,\n        axis === \"y\" ? coord.get() : 0,\n      ],\n    },\n  );\n\n  const [{ x, y }, api] = useSpring(() => ({ to: { x: 0, y: 0 } }));\n  const coord = axis === \"x\" ? x : y;\n\n  return (\n    <Box\n      {...(axis === \"x\" && { overflowX: \"clip\" })}\n      {...(axis === \"y\" && { overflowY: \"clip\" })}\n    >\n      <animated.div\n        ref={sliderRef}\n        style={{\n          [axis]: coord,\n          touchAction: axis === \"x\" ? \"pan-y\" : \"pan-x\",\n        }}\n        {...bind()}\n      >\n        {children}\n      </animated.div>\n    </Box>\n  );\n}\n\nDragScroll.propTypes = {\n  children: PropTypes.node.isRequired,\n  axis: PropTypes.oneOf([\"x\", \"y\"]),\n};\n\nexport default DragScroll;\n","/**\n * Limits number within given range\n *\n * @param {Number} num Number to clamp\n * @param {Number} min Minimum value\n * @param {Number} max Maximum value\n * @returns {Number}\n */\nexport const clamp = (num, min, max) => {\n  return Math.min(Math.max(num, min), max);\n};\n\n/**\n *  Finds if the number is the specified range\n *\n * @param {Number} num Number to check\n * @param {Number} min Minimum value\n * @param {Number} max Maximum value\n * @return {Boolean} True if number is in range\n */\nexport const isInRange = (num, min, max) => {\n  return num > min && num < max;\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport { Box, useBreakpointValue } from \"@chakra-ui/react\";\n\nimport ProductsGrid from \"components/ProductsGrid\";\nimport SectionWrapper from \"components/SectionWrapper\";\nimport productsData from \"assets/json/products.json\";\n\nfunction PopularSection() {\n  const [popularProductsData, setPopularProductsData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const productCount = useBreakpointValue({\n    base: 4,\n    xs: 4,\n    sm: 4,\n    md: 6,\n    lg: 6,\n    xl: 8,\n  });\n\n  useEffect(() => {\n    setPopularProductsData(\n      [...productsData]\n        .sort((a, b) => b.popularity - a.popularity)\n        .slice(0, productCount),\n    );\n    setIsLoading(false);\n  }, [productCount]);\n\n  return (\n    <SectionWrapper\n      heading={{\n        text: \"Popular\",\n      }}\n    >\n      <Box\n        px={{ base: \"1rem\", md: \"1.5rem\" }}\n        pb={{ base: \"1rem\", md: \"1.5rem\" }}\n      >\n        <ProductsGrid products={popularProductsData} isLoading={isLoading} />\n      </Box>\n    </SectionWrapper>\n  );\n}\n\nexport default PopularSection;\n","import React from \"react\";\n\nimport { ArrowRightFilled } from \"@fluentui/react-icons\";\nimport PropTypes from \"prop-types\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport {\n  Box,\n  Container,\n  HStack,\n  Heading,\n  Link,\n  Text,\n  VStack,\n} from \"@chakra-ui/react\";\n\nfunction SectionWrapper({ heading, children }) {\n  return (\n    <Container>\n      {/* Heading */}\n      {heading && (\n        <VStack spacing=\"0\" align=\"start\" p={{ base: \"1rem\", md: \"1.5rem\" }}>\n          <HStack\n            spacing=\"2rem\"\n            justify={{ base: \"space-between\", md: \"start\" }}\n            align=\"baseline\"\n            w=\"100%\"\n          >\n            {heading.text && (\n              <Heading as=\"h2\" size=\"h2\">\n                {heading.text}\n              </Heading>\n            )}\n            {heading.to && (\n              <Link as={RouterLink} to={heading.to} color=\"orange.400\">\n                <HStack spacing=\"0.25rem\">\n                  <Text variant=\"small\">See all</Text>\n                  <ArrowRightFilled />\n                </HStack>\n              </Link>\n            )}\n          </HStack>\n          {heading.description && (\n            <Text variant=\"muted\">{heading.description}</Text>\n          )}\n        </VStack>\n      )}\n      {/* Content */}\n      <Box>{children}</Box>\n    </Container>\n  );\n}\n\nSectionWrapper.propTypes = {\n  heading: PropTypes.shape({\n    text: PropTypes.string,\n    description: PropTypes.string,\n    to: PropTypes.string,\n  }),\n  children: PropTypes.node,\n};\n\nexport default SectionWrapper;\n"],"names":["React","useCallback","useRef","useState","Box","PropTypes","useDrag","useResizeDetector","animated","useSpring","clamp","isInRange","springDragConfig","mass","tension","friction","springFreeConfig","springRubberBandConfig","DragScroll","children","axis","start","end","bounds","setBounds","sliderRef","onResize","api","to","config","containerSize","current","clientWidth","clientHeight","sliderSize","scrollWidth","scrollHeight","targetRef","refreshMode","refreshRate","bind","down","direction","dx","dy","offset","ox","oy","velocity","vx","vy","d","o","v","releaseOffset","preventDefault","filterTaps","from","coord","get","x","y","overflowX","overflowY","propTypes","node","isRequired","oneOf","num","min","max","Math","useEffect","useBreakpointValue","ProductsGrid","SectionWrapper","productsData","PopularSection","popularProductsData","setPopularProductsData","isLoading","setIsLoading","productCount","base","xs","sm","md","lg","xl","sort","a","b","popularity","slice","text","ArrowRightFilled","Link","RouterLink","Container","HStack","Heading","Text","VStack","heading","description","shape","string"],"sourceRoot":""}